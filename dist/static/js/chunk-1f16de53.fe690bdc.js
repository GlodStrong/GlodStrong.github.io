(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1f16de53"],{"800b":function(e,t,o){"use strict";o.r(t);var l=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("el-row",{staticStyle:{"margin-top":"10px"},attrs:{gutter:20}},[o("el-col",{staticStyle:{"margin-bottom":"20px"},attrs:{md:24,lg:8}},[o("el-card",[o("totBudget")],1)],1),o("el-col",{staticStyle:{"margin-bottom":"20px"},attrs:{md:24,lg:16}},[o("el-card",[o("barChart")],1)],1)],1),o("el-row",[o("el-col",[o("el-card",[o("budgetTab",{staticStyle:{height:"800px"}})],1)],1)],1)],1)},a=[],r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("span",[e._v("项目总预算")]),o("el-divider",{attrs:{direction:"vertical"}}),o("span",[e._v("999,999,999")])],1)},n=[],i={data:function(){return{}}},s=i,c=o("2877"),d=Object(c["a"])(s,r,n,!1,null,null,null),u=d.exports,p=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticStyle:{height:"300px"},attrs:{id:"barChart"}})},m=[],f=o("313e"),b={data:function(){return{myChart:""}},mounted:function(){this.$nextTick((function(){this.myChart=f["a"](document.getElementById("barChart")),this.myChart.showLoading();var e=this.getBarChart();this.myChart.setOption(e),this.myChart.hideLoading()}))},methods:{getBarChart:function(){return{type:"bar",xAxis:{type:"category",data:["Labor","Materials","Outsourcing","Expense"]},yAxis:{type:"value"},series:[{data:[100,2e3,300,500],type:"bar"}]}}}},_=b,h=Object(c["a"])(_,p,m,!1,null,null,null),w=h.exports,g=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("el-tabs",{staticStyle:{height:"100%"}},[o("el-tab-pane",{attrs:{label:"人力费"}},[o("laborTab",{staticStyle:{width:"100%"}})],1),o("el-tab-pane",{attrs:{label:"外包费"}},[o("outsourcingTab",{staticStyle:{width:"100%"}})],1),o("el-tab-pane",{attrs:{label:"材料费"}},[e._v("材料费")]),o("el-tab-pane",{attrs:{label:"经费"}},[e._v("经费")])],1)],1)},v=[],y=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("el-container",[o("el-header",[o("el-button-group",{staticStyle:{float:"right"}},[o("el-button",{attrs:{type:"primary",icon:"el-icon-edit"},on:{click:e.showDialog}},[e._v("添加")]),o("el-button",{attrs:{type:"danger",icon:"el-icon-delete"},on:{click:e.delLabor}},[e._v("删除")])],1)],1),o("el-main",[o("el-table",{ref:"laborsRef",staticStyle:{width:"100%"},attrs:{height:"600",border:"","show-summary":"",data:e.tableData,"summary-method":e.getSummaries},on:{select:e.handleTbChk}},[o("el-table-column",{attrs:{type:"selection",width:"50%",align:"center"}}),o("el-table-column",{attrs:{label:"PM",width:"50%",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-radio",{attrs:{label:t.$index},nativeOn:{change:function(o){return e.singleElection(t.row)}},model:{value:e.tempRadio,callback:function(t){e.tempRadio=t},expression:"tempRadio"}},[o("span")])]}}])}),o("el-table-column",{attrs:{label:"序列",width:"70%",align:"center",prop:"id"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.id))])]}}])}),o("el-table-column",{attrs:{label:"姓名",width:"80%",align:"center",prop:"name"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-popover",{attrs:{trigger:"hover",placement:"top"}},[o("p",[e._v("年龄: "+e._s(t.row.person.age))]),o("p",[e._v("性别: "+e._s(t.row.person.gender))]),o("p",[e._v("生日: "+e._s(t.row.person.birthday))]),o("p",[e._v("地址: "+e._s(t.row.person.address))]),o("p",[e._v("邮箱: "+e._s(t.row.person.email))]),o("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[o("el-tag",{attrs:{size:"medium"}},[e._v(e._s(t.row.person.name))])],1)])]}}])}),o("el-table-column",{attrs:{label:"其他信息",align:"center"}},[e._v(" TBD ")]),o("el-table-column",{attrs:{label:"职位",width:"110%",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.rowEdit?e._e():o("i",{staticClass:"el-icon-postcard"}),t.row.rowEdit?e._e():o("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.pos_cd))]),t.row.rowEdit?o("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择职位"},model:{value:t.row.pos_cd,callback:function(o){e.$set(t.row,"pos_cd",o)},expression:"scope.row.pos_cd"}},[o("el-option",{attrs:{label:"intern",value:"intern"}}),o("el-option",{attrs:{label:"staff",value:"staff"}}),o("el-option",{attrs:{label:"director",value:"director"}}),o("el-option",{attrs:{label:"manager",value:"manager"}}),o("el-option",{attrs:{label:"chief",value:"chief"}}),o("el-option",{attrs:{label:"ceo",value:"ceo"}})],1):e._e()]}}])}),o("el-table-column",{attrs:{label:"状态",width:"70%",align:"center",prop:"apr_cd"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-popover",{attrs:{trigger:"hover",placement:"top"}},[o("p",[e._v("状态: "+e._s(t.row.apr_cd))]),o("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},["approved"===t.row.apr_cd?o("i",{staticClass:"el-icon-check"}):e._e(),"waiting"===t.row.apr_cd?o("i",{staticClass:"el-icon-loading"}):e._e(),"cancel"===t.row.apr_cd?o("i",{staticClass:"el-icon-close"}):e._e()])])]}}])}),o("el-table-column",{attrs:{label:"单价",width:"100%",align:"center",prop:"unit"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.rowEdit?e._e():o("i",{staticClass:"el-icon-money"}),t.row.rowEdit?e._e():o("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.unit))]),t.row.rowEdit?o("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入金额"},model:{value:t.row.unit,callback:function(o){e.$set(t.row,"unit",o)},expression:"scope.row.unit"}}):e._e()]}}])}),o("el-table-column",{attrs:{label:"工作天数",width:"100%",align:"center",prop:"work_day"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("i",{staticClass:"el-icon-date"}),o("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.work_day)+"天")])]}}])}),o("el-table-column",{attrs:{label:"level",width:"150%",align:"center",prop:"level_cd"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-popover",{attrs:{trigger:"hover",placement:"top"}},[o("p",[e._v("level: "+e._s(t.row.level_cd)+" ")]),o("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[o("el-rate",{attrs:{disabled:!t.row.rowEdit,"text-color":"#ff9900"},model:{value:t.row.level_cd,callback:function(o){e.$set(t.row,"level_cd",o)},expression:"scope.row.level_cd"}})],1)])]}}])}),o("el-table-column",{attrs:{label:"开始日期",width:"130%",align:"center",prop:"iv_str_dt"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.rowEdit?e._e():o("i",{staticClass:"el-icon-time"}),t.row.rowEdit?e._e():o("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.iv_str_dt))]),t.row.rowEdit?o("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择开始日期"},model:{value:t.row.iv_end_dt,callback:function(o){e.$set(t.row,"iv_end_dt",o)},expression:"scope.row.iv_end_dt"}}):e._e()]}}])}),o("el-table-column",{attrs:{label:"结束日期",width:"130%",align:"center",prop:"iv_end_dt"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.rowEdit?e._e():o("i",{staticClass:"el-icon-time"}),t.row.rowEdit?e._e():o("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.iv_end_dt))]),t.row.rowEdit?o("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择结束日期"},model:{value:t.row.iv_end_dt,callback:function(o){e.$set(t.row,"iv_end_dt",o)},expression:"scope.row.iv_end_dt"}}):e._e()]}}])}),o("el-table-column",{attrs:{width:"90%",label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.rowEdit?e._e():o("el-button",{attrs:{size:"mini",disabled:"waiting"===t.row.apr_cd},on:{click:function(e){t.row.rowEdit=!t.row.rowEdit}}},[e._v("编辑")]),t.row.rowEdit?o("el-button",{attrs:{size:"mini"},on:{click:function(e){t.row.rowEdit=!t.row.rowEdit}}},[e._v("确认")]):e._e()]}}])})],1),o("LaborPopup",{ref:"laborDialogRef"})],1),o("el-footer",[e._v("Footer")])],1)],1)},S=[],k=(o("d81d"),o("d3b7"),o("159b"),o("a434"),o("b775"));function F(e){return Object(k["a"])({url:"/glodstrong.github.io/labor/list",method:"get",params:e})}var x=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("el-dialog",{attrs:{title:"人力信息",size:"tiny",visible:e.dialogFormVisible,"before-close":e.handleClose}},[o("el-form",{ref:"laborInfo",attrs:{model:e.laborForm,"label-width":"80px",rules:e.rules}},[o("el-form-item",{attrs:{label:"姓名",prop:"name"}},[o("el-input",{staticStyle:{width:"100%"},model:{value:e.laborForm.person.name,callback:function(t){e.$set(e.laborForm.person,"name",t)},expression:"laborForm.person.name"}})],1),o("el-form-item",{attrs:{label:"性别",prop:"gender"}},[o("el-radio-group",{model:{value:e.laborForm.person.gender,callback:function(t){e.$set(e.laborForm.person,"gender",t)},expression:"laborForm.person.gender"}},[o("el-radio",{attrs:{label:"男"}}),o("el-radio",{attrs:{label:"女"}})],1)],1),o("el-form-item",{attrs:{label:"生日",prop:"birthday"}},[o("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期"},model:{value:e.laborForm.person.birthday,callback:function(t){e.$set(e.laborForm.person,"birthday",t)},expression:"laborForm.person.birthday"}})],1),o("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[o("el-input",{staticStyle:{width:"100%"},model:{value:e.laborForm.person.email,callback:function(t){e.$set(e.laborForm.person,"email",t)},expression:"laborForm.person.email"}})],1),o("el-form-item",{attrs:{label:"职位",prop:"pos_cd"}},[o("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择职位"},model:{value:e.laborForm.pos_cd,callback:function(t){e.$set(e.laborForm,"pos_cd",t)},expression:"laborForm.pos_cd"}},[o("el-option",{attrs:{label:"intern",value:"intern"}}),o("el-option",{attrs:{label:"staff",value:"staff"}}),o("el-option",{attrs:{label:"director",value:"director"}}),o("el-option",{attrs:{label:"manager",value:"manager"}}),o("el-option",{attrs:{label:"chief",value:"chief"}}),o("el-option",{attrs:{label:"ceo",value:"ceo"}})],1)],1),o("el-form-item",{attrs:{label:"PM",prop:"pm_yn"}},[o("el-switch",{model:{value:e.laborForm.pm_yn,callback:function(t){e.$set(e.laborForm,"pm_yn",t)},expression:"laborForm.pm_yn"}})],1),o("el-form-item",{attrs:{label:"审批状态",prop:"apr_cd"}},[o("el-input",{staticStyle:{width:"100%"},attrs:{disabled:""},model:{value:e.laborForm.apr_cd,callback:function(t){e.$set(e.laborForm,"apr_cd",t)},expression:"laborForm.apr_cd"}})],1),o("el-form-item",{attrs:{label:"投入期间",required:""}},[o("el-col",{attrs:{span:11}},[o("el-form-item",{attrs:{prop:"iv_str_dt"}},[o("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期"},model:{value:e.laborForm.iv_str_dt,callback:function(t){e.$set(e.laborForm,"iv_str_dt",t)},expression:"laborForm.iv_str_dt"}})],1)],1),o("el-col",{staticClass:"line",attrs:{span:2}},[e._v("-")]),o("el-col",{attrs:{span:11}},[o("el-form-item",{attrs:{prop:"iv_end_dt"}},[o("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期"},model:{value:e.laborForm.iv_end_dt,callback:function(t){e.$set(e.laborForm,"iv_end_dt",t)},expression:"laborForm.iv_end_dt"}})],1)],1)],1),o("el-form-item",{attrs:{label:"工作天数"}},[o("el-input",{staticStyle:{width:"100%"},model:{value:e.laborForm.work_day,callback:function(t){e.$set(e.laborForm,"work_day",t)},expression:"laborForm.work_day"}})],1),o("el-form-item",{attrs:{label:"单价",prop:"unit"}},[o("el-input",{staticStyle:{width:"100%"},model:{value:e.laborForm.unit,callback:function(t){e.$set(e.laborForm,"unit",t)},expression:"laborForm.unit"}})],1),o("el-form-item",{attrs:{label:"Level"}},[o("el-rate",{staticStyle:{width:"100%"},model:{value:e.laborForm.level_cd,callback:function(t){e.$set(e.laborForm,"level_cd",t)},expression:"laborForm.level_cd"}})],1),o("el-form-item",{attrs:{label:"其他"}},[o("el-input",{staticStyle:{width:"100%"},attrs:{type:"textarea"}})],1),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("laborInfo")}}},[e._v("确认")]),o("el-button",{on:{click:e.handleClose}},[e._v("取消")])],1)],1)],1)],1)},C=[],E={props:{dialogVisible:{type:Boolean,default:!1}},data:function(){return{dialogFormVisible:!1,laborForm:{pos_cd:"",unit:"",work_day:"",level_cd:"",pm_yn:!1,apr_cd:"new",iv_dt:"",iv_str_dt:"",iv_end_dt:"",birthday:"",person:{name:"",age:"",gender:"",address:"",birthday:"",email:""}},rules:{name:[{required:!0,message:"请输入名称",trigger:"blur"}],pos_cd:[{required:!0,message:"请选择职位",trigger:"change"}],birthday:[{type:"date",required:!0,message:"请选择生日",trigger:"change"}],gender:[{required:!0,message:"请选择时间",trigger:"change"}],address:[{required:!0,message:"请选择时间",trigger:"blur"}],email:[{required:!0,message:"请填写单价",trigger:"blur"}]}}},methods:{openDialog:function(){this.dialogFormVisible=!0},submitForm:function(e){this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;alert("submit!")}))},handleClose:function(){var e=this;console.log(this.$refs["laborInfo"]),this.$confirm("确认关闭？").then((function(t){e.$refs["laborInfo"].resetFields(),e.dialogFormVisible=!1})).catch((function(e){}))}}},$=E,D=Object(c["a"])($,x,C,!1,null,null,null),O=D.exports,R={components:{LaborPopup:O},data:function(){return{tempRadio:!1,tempSelectRow:"",tableData:[],tempSelectedData:[]}},mounted:function(){var e=this;console.log("laborTab >>>"),F().then((function(t){e.tableData=t.data.items.map((function(t){return e.$set(t,"rowEdit",!1),t}))}))},methods:{getSummaries:function(e,t){console.log("columns, data",e,t);var o=[];return o},singleElection:function(e){this.tempSelectRow=this.tableData.indexOf(e)},handleTbChk:function(e,t){console.log("handleTbChk >>>>",e,t),this.tempSelectedData=e,console.log("tempSelectedData >>>>",this.tempSelectedData)},showDialog:function(){this.$refs.laborDialogRef.openDialog()},delLabor:function(){var e=this;this.tempSelectedData&&0!==this.tempSelectedData.length&&this.tableData.forEach((function(t,o){e.tempSelectedData.some((function(e){return e.id===t.id}))&&e.tableData.splice(o,1)}))},handleEdit:function(e,t){console.log("handleEdit >>>",e,t),console.log("laborsRef >>>",this.$refs.laborsRef),t.rowEdit=!1}}},T=R,j=Object(c["a"])(T,y,S,!1,null,null,null),I=j.exports,P=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("el-container",[o("el-header",[o("el-button-group",{staticStyle:{float:"right"}},[o("el-button",{attrs:{type:"primary",icon:"el-icon-edit"},on:{click:e.showDialog}},[e._v("添加")]),o("el-button",{attrs:{type:"danger",icon:"el-icon-delete"},on:{click:e.delOc}},[e._v("删除")])],1)],1),o("el-main",[o("el-table",{ref:"osRef",staticStyle:{width:"100%"},attrs:{height:"600",border:"","show-summary":"",data:e.tableData,"summary-method":e.getSummaries},on:{select:e.handleTbChk}},[o("el-table-column",{attrs:{type:"selection",width:"50%",align:"center"}}),o("el-table-column",{attrs:{label:"序列",width:"70%",align:"center",prop:"id"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.id))])]}}])}),o("el-table-column",{attrs:{label:"姓名",width:"70%",align:"center",prop:"name"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-popover",{attrs:{trigger:"hover",placement:"top"}},[o("p",[e._v("年龄: "+e._s(t.row.person.age))]),o("p",[e._v("性别: "+e._s(t.row.person.gender))]),o("p",[e._v("生日: "+e._s(t.row.person.birthday))]),o("p",[e._v("地址: "+e._s(t.row.person.address))]),o("p",[e._v("邮箱: "+e._s(t.row.person.email))]),o("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[o("el-tag",{attrs:{size:"medium"}},[e._v(e._s(t.row.person.name))])],1)])]}}])}),o("el-table-column",{attrs:{label:"公司",width:"100%",align:"center",prop:"name"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-popover",{attrs:{trigger:"hover",placement:"top"}},[o("p",[e._v("评价等级: "+e._s(t.row.company.rate))]),o("p",[e._v("外企与否: "+e._s(t.row.company.foreign_yn))]),o("p",[e._v("地址: "+e._s(t.row.company.address))]),o("p",[e._v("邮箱: "+e._s(t.row.company.email))]),o("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[o("el-tag",{attrs:{size:"medium"}},[e._v(e._s(t.row.company.name))])],1)])]}}])}),o("el-table-column",{attrs:{label:"职位",width:"110%",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.rowEdit?e._e():o("i",{staticClass:"el-icon-postcard"}),t.row.rowEdit?e._e():o("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.pos_cd))]),t.row.rowEdit?o("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择职位"},model:{value:t.row.pos_cd,callback:function(o){e.$set(t.row,"pos_cd",o)},expression:"scope.row.pos_cd"}},[o("el-option",{attrs:{label:"intern",value:"intern"}}),o("el-option",{attrs:{label:"staff",value:"staff"}}),o("el-option",{attrs:{label:"director",value:"director"}}),o("el-option",{attrs:{label:"manager",value:"manager"}}),o("el-option",{attrs:{label:"chief",value:"chief"}}),o("el-option",{attrs:{label:"ceo",value:"ceo"}})],1):e._e()]}}])}),o("el-table-column",{attrs:{label:"其他信息",align:"center"}},[e._v(" TBD ")]),o("el-table-column",{attrs:{label:"状态",width:"70%",align:"center",prop:"apr_cd"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-popover",{attrs:{trigger:"hover",placement:"top"}},[o("p",[e._v("状态: "+e._s(t.row.apr_cd))]),o("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},["approved"===t.row.apr_cd?o("i",{staticClass:"el-icon-check"}):e._e(),"waiting"===t.row.apr_cd?o("i",{staticClass:"el-icon-loading"}):e._e(),"cancel"===t.row.apr_cd?o("i",{staticClass:"el-icon-close"}):e._e()])])]}}])}),o("el-table-column",{attrs:{label:"单价",width:"110%",align:"center",prop:"unit"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.rowEdit?e._e():o("i",{staticClass:"el-icon-money"}),t.row.rowEdit?e._e():o("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.unit))]),t.row.rowEdit?o("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入金额"},model:{value:t.row.unit,callback:function(o){e.$set(t.row,"unit",o)},expression:"scope.row.unit"}}):e._e()]}}])}),o("el-table-column",{attrs:{label:"汇率",width:"70%",align:"center",prop:"exchange_rate"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.exchange_rate))])]}}])}),o("el-table-column",{attrs:{label:"工作天数",width:"110%",align:"center",prop:"work_day"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("i",{staticClass:"el-icon-date"}),o("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.work_day)+"天")])]}}])}),o("el-table-column",{attrs:{label:"开始日期",width:"130%",align:"center",prop:"iv_str_dt"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.rowEdit?e._e():o("i",{staticClass:"el-icon-time"}),t.row.rowEdit?e._e():o("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.iv_str_dt))]),t.row.rowEdit?o("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择开始日期"},model:{value:t.row.iv_end_dt,callback:function(o){e.$set(t.row,"iv_end_dt",o)},expression:"scope.row.iv_end_dt"}}):e._e()]}}])}),o("el-table-column",{attrs:{label:"结束日期",width:"130%",align:"center",prop:"iv_end_dt"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.rowEdit?e._e():o("i",{staticClass:"el-icon-time"}),t.row.rowEdit?e._e():o("span",{staticStyle:{"margin-left":"10px"}},[e._v(e._s(t.row.iv_end_dt))]),t.row.rowEdit?o("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择结束日期"},model:{value:t.row.iv_end_dt,callback:function(o){e.$set(t.row,"iv_end_dt",o)},expression:"scope.row.iv_end_dt"}}):e._e()]}}])}),o("el-table-column",{attrs:{width:"90%",label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.rowEdit?e._e():o("el-button",{attrs:{size:"mini",disabled:"waiting"===t.row.apr_cd},on:{click:function(e){t.row.rowEdit=!t.row.rowEdit}}},[e._v("编辑")]),t.row.rowEdit?o("el-button",{attrs:{size:"mini"},on:{click:function(e){t.row.rowEdit=!t.row.rowEdit}}},[e._v("确认")]):e._e()]}}])})],1),o("OutsourcingPopup",{ref:"ocDialogRef"})],1),o("el-footer",[e._v("Footer")])],1)],1)},L=[];function V(e){return Object(k["a"])({url:"/glodstrong.github.io/outsourcing/list",method:"get",params:e})}var z=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("el-dialog",{attrs:{title:"外包信息",size:"tiny",visible:e.dialogFormVisible,"before-close":e.handleClose}},[o("el-form",{ref:"outsourcingInfo",attrs:{model:e.outsourcingForm,"label-width":"80px"}},[o("el-form-item",{attrs:{label:"公司名称",prop:"name"}},[o("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择公司"},on:{change:e.onChangeCompany},model:{value:e.outsourcingForm.company.name,callback:function(t){e.$set(e.outsourcingForm.company,"name",t)},expression:"outsourcingForm.company.name"}},e._l(e.tmpCompanies,(function(e){return o("el-option",{key:e.company_id,attrs:{label:e.name,value:e}})})),1)],1),o("el-form-item",{attrs:{label:"公司邮箱",prop:"email"}},[o("span",[e._v(e._s(e.outsourcingForm.company.email))])]),o("el-form-item",{attrs:{label:"公司地址",prop:"address"}},[o("span",[e._v(e._s(e.outsourcingForm.company.address))])]),o("el-form-item",{attrs:{label:"评价",prop:"rate"}},[o("span",[e._v(e._s(e.outsourcingForm.company.rate))])]),o("el-form-item",{attrs:{label:"外企与否",prop:"foreign_yn"}},[o("span",[e._v(e._s(e.outsourcingForm.company.foreign_yn))])]),o("el-table",{ref:"ocPopRef",staticStyle:{width:"100%"},attrs:{height:"600",border:"",data:e.tmpPeople},on:{select:e.handleTbChk}},[o("el-table-column",{attrs:{type:"selection",align:"center",selectable:e.getChkInputYn}}),o("el-table-column",{attrs:{label:"序列",width:"60",align:"center",prop:"emp_id"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.emp_id))])]}}])}),o("el-table-column",{attrs:{label:"姓名",align:"center",prop:"name",width:"70%"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.name))])]}}])}),o("el-table-column",{attrs:{label:"年龄",align:"center",width:"70%"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.age))])]}}])}),o("el-table-column",{attrs:{label:"性别",align:"center",width:"70%"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.gender))])]}}])}),o("el-table-column",{attrs:{label:"生日",align:"center",width:"95%"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.birthday))])]}}])}),o("el-table-column",{staticStyle:{width:"100%"},attrs:{label:"邮箱",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.email))])]}}])}),o("el-table-column",{attrs:{label:"地址",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.address))])]}}])}),o("el-table-column",{attrs:{label:"已投入",align:"center",width:"70%"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("span",[e._v(e._s(t.row.isInputed))])]}}])})],1),o("el-form-item"),o("el-form-item",[o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ocPopRef")}}},[e._v("确认")]),o("el-button",{on:{click:e.handleClose}},[e._v("取消")])],1)],1)],1)],1)},B=[];function q(e){return Object(k["a"])({url:"/glodstrong.github.io/companies/list",method:"get",params:e})}function M(e){return Object(k["a"])({url:"/glodstrong.github.io/people/list",method:"get",params:e})}var A={props:{dialogVisible:{type:Boolean,default:!1}},data:function(){return{tmpCompanies:[],tmpPeople:[],dialogFormVisible:!1,outsourcingForm:{apr_cd:"new",person:{name:"",age:"",gender:"",address:"",birthday:"",email:""},company:{company_id:"",name:"",rate:"",foreign_yn:"",email:"",address:""}}}},methods:{getDataList:function(){var e=this;q().then((function(t){e.tmpCompanies=t.data.items})),M().then((function(t){e.tmpPeople=t.data.items}))},openDialog:function(){this.dialogFormVisible=!0},submitForm:function(e){this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;alert("submit!")}))},handleClose:function(){var e=this;console.log(this.$refs["outsourcingInfo"]),this.$confirm("确认关闭？").then((function(t){e.$refs["outsourcingInfo"].resetFields(),e.dialogFormVisible=!1})).catch((function(e){}))},onChangeCompany:function(e){this.outsourcingForm.company=Object.assign(this.outsourcingForm.company,e),console.log("onChangeCompany >>>",e)},handleTbChk:function(e){console.log("handleTbChk >>>",e)},getChkInputYn:function(e){return!e.isInputed}}},J=A,Y=Object(c["a"])(J,z,B,!1,null,null,null),G=Y.exports,H={components:{OutsourcingPopup:G},data:function(){return{tempRadio:!1,tempSelectRow:"",tableData:[],tempSelectedData:[]}},mounted:function(){var e=this;console.log("outsourcingTab >>>"),V().then((function(t){e.tableData=t.data.items.map((function(t){return e.$set(t,"rowEdit",!1),t}))}))},methods:{getSummaries:function(e,t){console.log("columns, data",e,t);var o=[];return o},singleElection:function(e){this.tempSelectRow=this.tableData.indexOf(e)},handleTbChk:function(e,t){console.log("handleTbChk >>>>",e,t),this.tempSelectedData=e,console.log("tempSelectedData >>>>",this.tempSelectedData)},showDialog:function(){this.$refs.ocDialogRef.getDataList(),this.$refs.ocDialogRef.openDialog()},delOc:function(){var e=this;this.tempSelectedData&&0!==this.tempSelectedData.length&&this.tableData.forEach((function(t,o){e.tempSelectedData.some((function(e){return e.id===t.id}))&&e.tableData.splice(o,1)}))},handleEdit:function(e,t){console.log("handleEdit >>>",e,t),console.log("laborsRef >>>",this.$refs.laborsRef),t.rowEdit=!1}}},K=H,N=Object(c["a"])(K,P,L,!1,null,null,null),Q=N.exports,U={components:{laborTab:I,outsourcingTab:Q},data:function(){return{}}},W=U,X=Object(c["a"])(W,g,v,!1,null,null,null),Z=X.exports,ee={components:{totBudget:u,barChart:w,budgetTab:Z},data:function(){return{}},mounted:function(){console.log("pjtInformation")}},te=ee,oe=Object(c["a"])(te,l,a,!1,null,null,null);t["default"]=oe.exports},a434:function(e,t,o){"use strict";var l=o("23e7"),a=o("23cb"),r=o("a691"),n=o("50c4"),i=o("7b0b"),s=o("65f0"),c=o("8418"),d=o("1dde"),u=o("ae40"),p=d("splice"),m=u("splice",{ACCESSORS:!0,0:0,1:2}),f=Math.max,b=Math.min,_=9007199254740991,h="Maximum allowed length exceeded";l({target:"Array",proto:!0,forced:!p||!m},{splice:function(e,t){var o,l,d,u,p,m,w=i(this),g=n(w.length),v=a(e,g),y=arguments.length;if(0===y?o=l=0:1===y?(o=0,l=g-v):(o=y-2,l=b(f(r(t),0),g-v)),g+o-l>_)throw TypeError(h);for(d=s(w,l),u=0;u<l;u++)p=v+u,p in w&&c(d,u,w[p]);if(d.length=l,o<l){for(u=v;u<g-l;u++)p=u+l,m=u+o,p in w?w[m]=w[p]:delete w[m];for(u=g;u>g-l+o;u--)delete w[u-1]}else if(o>l)for(u=g-l;u>v;u--)p=u+l-1,m=u+o-1,p in w?w[m]=w[p]:delete w[m];for(u=0;u<o;u++)w[u+v]=arguments[u+2];return w.length=g-l+o,d}})}}]);